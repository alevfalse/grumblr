<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Grumblr</title>

   <!-- semantic-ui styles -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/semantic.min.css" />
   <!-- main css -->
   <link rel="stylesheet" href="./css/profile.css">
   <link rel="stylesheet" href="./components/navbar/navbar.css">
   <link rel="stylesheet" href="./components/post/post.css">
</head>

<body>
<!-- Navigation Bar Component -->
<<<<<<< HEAD
<<<<<<< HEAD
<% include ../public/components/Navbar/navbar.ejs %>
=======
<% include ../public/components/navbar/navbar.ejs %>
>>>>>>> efa086bc2f984c5b96061598d7c5642f22201305
=======
<% include ../public/components/navbar/navbar.ejs %>
>>>>>>> efa086bc2f984c5b96061598d7c5642f22201305
<!-- 
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
-->


























<div id="content">
<!-- 
==============================================================================================================================================================
HEADER 
-->
<HEADER>
	<!-- HEADER: USER AVATAR -->
	<div class="profileAvatarContainer">
		<img src="images/nathan.jpg" alt="Avatar" id="profileImage">
	</div>

	<!-- HEADER: HEADER COVER/IMAGE -->
	<div class="profileHeaderImageContainer">
		<img src="images/headerImage.png" alt="Header Image" id="headerImage">
	</div>

	<!-- HEADER: USER INFORMATION -->
	<div class="profileHeaderUserInfo">
		<h1>Nathaniel Saludes</h1>
		<h3>@GGMcdonie</h3>
	</div>
</HEADER>
<!--
==============================================================================================================================================================
PROFILE FEED
-->
<TIMELINE id="timeline">


	<PANEL>
	<!-- PANEL: ABOUT USER -->
	<div class="profileDetailsContainer">
	<div class="accountDetails">
		<h2 class="ui header">Intro</h2>
		<p style="text-align: center">Pasahan na bukas sa Sflect hindi pa tayo tapos <br>- @DevsOfGrumblr</p>
	</div>
	<div class="ui divider"></div>
	</div>
	</PANEL>


	<PANEL>
	<div class="profilePosts">
		<!-- PANEL: CREATE-A-POST -->
		<form action="/send_blog" method="POST" class="createPostContainer ui form" enctype="multipart/form-data">

			<!-- CREATE-A-POST: text/caption -->
			<div class="createPostField">
				<textarea name="blog_text" id="blog_text" placeholder="Write something..."></textarea>
			</div>
			
			<!-- CREATE-A-POST: IMAGE ATTACHMENT (hidden by default)-->
			<div class="hidden" id="imageAttachmentContainer">
				<!-- REMOVE BUTTON -->  <i class="delete icon" id="removeImageButton" onClick="removeAttachedImage(event)"></i>
				<!-- IMAGE -->			<img src="image url here" alt="Image Placeholder (visible: false)" id="imageAttachment">
			</div>

			<!-- CREATE-A-POST: controls -->
			<div class="createPostControls">
				<div class="imageUpload">
				<!-- UPLOAD IMAGE BUTTON -->    <label for="fileInput"><i class="icon image massive ui"></i></label>       
				<!-- CHOOSE FILE INPUT -->      <input id="fileInput" type="file" accept="image/*" name="blog_image" onChange="loadImageAttachment(event)">
				</div>
				
				<!-- POST BUTTON --> <input type="submit" value="POST" class="ui button" id="postButton">
			</div>
        </form>
        
        <% include ../public/components/post/post.ejs %>
	</div>
	</PANEL>


</TIMELINE>
<!--
==============================================================================================================================================================
-->
</div><!-- id="content" -->























<!--
SEMANTIC-UI SCRIPTS==============================================================================================================================================================
-->
<!-- jquery should be above the semantic.js due to having dependencies -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- semantic-ui javascript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/semantic.min.js"></script>
<!--
MAIN SCRIPTS=====================================================================================================================================================================
-->

<!-- main script -->
<script>

// SEMANTIC-UI dropdown function
$('.ui.dropdown')
	.dropdown()
;

$('.ui.longer.modal')
	.modal('attach events', '.viewComments', 'show')
;


// REMOVE UPLOADED IMAGE
function removeAttachedImage() {
	var image = document.getElementById('imageAttachment');
	var container = document.getElementById('imageAttachmentContainer');
	
	if(image.src == null || image.src == "") {
		/* if there is no attached image in the container, proceed*/
	} 
	else {
		image.src = "";
		container.classList.add('hidden');
	}
}
	
// PREVIEW UPLOADED IMAGE
function loadImageAttachment() {
	var imageContainer = document.getElementById('imageAttachmentContainer');
	var output = document.getElementById('imageAttachment');

	if(imageContainer.classList.contains('hidden')) {
		imageContainer.classList.remove('hidden')
		output.src = URL.createObjectURL(event.target.files[0]);
	} else {
		output.src = URL.createObjectURL(event.target.files[0]);
	}
}

// INFINITE SCROLL FUNCTION
$('.infinite.example .demo.segment')
	.visibility({
	once: false,
	// update size when new content loads
	observeChanges: true,
	// load content on bottom edge visible
	onBottomVisible: function() { // Alex: ako mag aayos nitong function na to to call the API
		// some code to call the api to render more data
	}
})
;
</script>
</body>

</html>